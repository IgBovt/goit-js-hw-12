{"version":3,"file":"commonHelpers.js","sources":["../src/js/refs.js","../src/js/loaders.js","../src/js/clearGallery.js","../src/img/2.svg","../src/js/alert.js","../src/js/backend-service.js","../src/js/simpleLightBox.js","../src/js/createMarkup.js","../src/js/main.js"],"sourcesContent":["export function getRefs() {\n  return {\n    form: document.querySelector('.js-form'),\n    btn: document.querySelector('.js-btn'),\n    input: document.querySelector('.js-input'),\n    container: document.querySelector('.js-gallery'),\n    span: document.querySelector('.js-loader'),\n    pagBtn: document.querySelector('.js-pag-btn'),\n  };\n}\n","import { getRefs } from './refs';\n\nconst refs = getRefs();\n\nexport function addLoader() {\n  return refs.span.classList.add('loader');\n}\nexport function removeLoader() {\n  return refs.span.classList.remove('loader');\n}\n","import { getRefs } from './refs';\n\nexport function clearGallery() {\n  const refs = getRefs();\n  return (refs.container.innerHTML = '');\n}\n","export default \"__VITE_ASSET__0c0e52e8__\"","import err from '../img/2.svg';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nexport function getAlert() {\n  return iziToast.warning({\n    backgroundColor: '#EF4040',\n    titleColor: '#fff',\n    messageColor: '#fff',\n    iconUrl: `${err}`,\n    position: 'topRight',\n    title: 'SORRY',\n    message:\n      'Sorry, there are no images matching your search query. Please try again!',\n  });\n}\n\nexport function getErrorAlert() {\n  return iziToast.warning({\n    backgroundColor: '#EF4040',\n    titleColor: '#fff',\n    messageColor: '#fff',\n    iconUrl: `${err}`,\n    position: 'center',\n    title: 'ERROR',\n    message: 'SERVER REQUEST IS WRONG',\n  });\n}\n\nexport function getWarningAlert() {\n  iziToast.warning({\n    title: 'Caution',\n    message: 'You forgot important data',\n    position: 'center',\n  });\n}\n","import { getAlert, getErrorAlert } from './alert';\n\nexport class NewApiService {\n  constructor() {\n    this.KEY = '41531809-f9219a766117007ff116a3463';\n    this.searchQuery = '';\n    this.page = 1;\n  }\n\n  async getPhoto() {\n    try {\n      const response = await fetch(\n        `https://pixabay.com/api/?key=${this.KEY}&q=${this.searchQuery}&image_type=photo&orientation=horizontal&per_page=21`\n      );\n\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n\n      const images = await response.json();\n\n      if (images.hits.length <= 0) {\n        getAlert();\n      }\n\n      return images;\n    } catch (error) {\n      console.error(error);\n      getErrorAlert();\n      removeLoader();\n    }\n  }\n\n  get query() {\n    return this.searchQuery;\n  }\n\n  set query(newQuery) {\n    this.searchQuery = newQuery;\n  }\n\n  get query() {\n    return this.searchQuery;\n  }\n  set query(newQuery) {\n    return (this.searchQuery = newQuery);\n  }\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport function initializeLightbox() {\n  new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n  });\n}\n","import { getRefs } from './refs';\nimport { removeLoader } from './loaders';\nimport { initializeLightbox } from './simpleLightBox';\n\nconst refs = getRefs();\n\nexport function createMarkup(images) {\n  const refs = getRefs();\n\n  refs.container.innerHTML = images.hits\n    .map(\n      img =>\n        `   <li>\n            <a class=\"link\" href=\"${img.largeImageURL}\">\n            <img\n                class=\"img\"\n                src=\"${img.webformatURL}\"\n                alt=\"${img.tags}\"\n                width=\"360\"\n                height=\"200\"\n                loading=\"lazy\"\n            />\n            <div class=\"text-bar\">\n                <div class=\"text-container\">\n                <h3 class=\"text-title\">Likes</h3>\n                <p class=\"text\">${img.likes}</p>\n                </div>\n                <div class=\"text-container\">\n                <h3 class=\"text-title\">Views</h3>\n                <p class=\"text\">${img.views}</p>\n                </div>\n                <div class=\"text-container\">\n                <h3 class=\"text-title\">Comments</h3>\n                <p class=\"text\">${img.comments}</p>\n                </div>\n                <div class=\"text-container\">\n                <h3 class=\"text-title\">Downloads</h3>\n                <p class=\"text\">${img.downloads}</p>\n                </div>\n            </div> </a\n            >\n            </li>`\n    )\n    .join('');\n  initializeLightbox();\n  addPaginationBtn();\n  removeLoader();\n  if (refs.container.childElementCount === 0) {\n    removePaginationBtn();\n  }\n}\n\nexport function addPaginationBtn() {\n  refs.pagBtn.classList.add('btn-showed');\n}\n\nexport function removePaginationBtn() {\n  refs.pagBtn.classList.remove('btn-showed');\n}\n","import { getRefs } from './refs';\nimport { addLoader, removeLoader } from './loaders';\nimport { clearGallery } from './clearGallery';\nimport { NewApiService } from './backend-service';\nimport { createMarkup, removePaginationBtn } from './createMarkup';\nimport { getAlert, getWarningAlert } from './alert';\n\nconst refs = getRefs();\nrefs.form.addEventListener('submit', onSearch);\nrefs.pagBtn.addEventListener('click', onLoadMore);\n\nconst newApiService = new NewApiService();\n\nfunction onSearch(e) {\n  e.preventDefault();\n  addLoader();\n  clearGallery();\n  newApiService.query = e.currentTarget.elements.delay.value.trim();\n  if (newApiService.query === '') {\n    return getWarningAlert(), removeLoader(), removePaginationBtn();\n  }\n  newApiService.getPhoto().then(images => createMarkup(images));\n  e.currentTarget.reset();\n}\n\nfunction onLoadMore() {\n  console.log('message');\n}\n"],"names":["getRefs","refs","addLoader","removeLoader","clearGallery","err","getAlert","iziToast","getErrorAlert","getWarningAlert","NewApiService","response","images","error","newQuery","initializeLightbox","SimpleLightbox","createMarkup","img","addPaginationBtn","removePaginationBtn","onSearch","onLoadMore","newApiService","e"],"mappings":"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"}